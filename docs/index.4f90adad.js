function e(e,t=[],n){const a=document.createElement(e);return t.length&&a.classList.add(...t),n&&(a.textContent=n),a}!function(t,n={}){let a=[];const r=document.querySelector(t);r.hidden=!0,n.multi&&r.setAttribute("multiple",!0),n.accept&&Array.isArray(n.accept)&&r.setAttribute("accept",n.accept.join(","));const i=e("div",["fu-previews"]),s=e("button",["fu-btn"],"Открыть"),c=e("button",["fu-btn","fu-btn--primary"],"Загрузить");c.hidden=!0,r.insertAdjacentElement("afterend",i),r.insertAdjacentElement("afterend",c),r.insertAdjacentElement("afterend",s),s.addEventListener("click",(()=>r.click())),r.addEventListener("change",(e=>{e.target.files.length&&(a=Array.from(e.target.files),i.innerHTML="",c.hidden=!1,a.forEach((e=>{if(!e.type.match("image"))return;const t=new FileReader;t.onload=t=>{const n=t.target.result;i.insertAdjacentHTML("afterbegin",`\n          <article class="fu-preview">\n            <button class="fu-preview__remove" data-name="${e.name}">&times;</button>\n            <img class="fu-preview__img" src="${n}" alt="${e.name}" />\n            <div class="fu-preview__info">\n              <span class="fu-preview__name">${e.name}</span>\n              <span class="fu-preview__size">${function(e){const t=["Bytes","KB","MB","GB","TB"];if(!e)return"0 Byte";const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,n))+" "+t[n]}(e.size)}</span>\n            </div>\n          </article>\n        `)},t.readAsDataURL(e)})))})),i.addEventListener("click",(e=>{if(!e.target.dataset.name)return;const{name:t}=e.target.dataset;a=a.filter((e=>e.name!==t)),a.length||(c.hidden=!0);const n=i.querySelector(`[data-name="${t}"]`).closest(".fu-preview");n.classList.add("fu-preview--removing");const r=()=>{n.remove(),n.removeEventListener("transitionend",r)};n.addEventListener("transitionend",r)})),c.addEventListener("click",(()=>{}))}("#file",{multi:!0,accept:[".png",".jpg",".jpeg",".gif"]});
//# sourceMappingURL=index.4f90adad.js.map
